MIDAS cm_transition testing and rollbacks
=========================================

Because of the problems encountered yesterday, I've begun more tests and a system of rollbacks of
the MIDAS code to see if "something went wrong" or if this is expected behavior.  I've _never_
been able to get the `cm_register_transition` functionality to work.  I've also experience a lot
of strange behavior along the way. 

One thing that seems tied up with all of this, but I can't be sure, is the fact that something
changed in MIDAS where I'm allowed to run on the host "localhost" whereas before the host
"jiajin.spa.umn.edu" was always displayed.  For our system, this should be truly irrelevant
because those hosts are one in the same, but because of the RPC errors I get (see yesterday's log
note) I can't shake the feeling that it's related, but I can't say *how*.

I did the command `git log -g` in the MIDAS repository and saw that there were three dates that
the MIDAS code was pulled from bitbucket.  They were 2015-09-29, 2015-09-18, and 2014-04-02.  I
start tests on the "current" version and begin with the rollbacks. 


Current 2015/09/29 (SHA: cf30abc8ff61ed1e5a1907e98757dd265f8bade8)
------------------------------------------------------------------

Ok, now I've got the code running with our most recent install of MIDAS.  The relevant lines in
the `frontend_init` are as follows:

```
 276   //register transition on start that sets random parameters
 277   if (cm_register_transition(TR_START, initialize_randoms_info, 500) != CM_SUCCESS) {
 278       printf("triggerfe2(frontend_init):Cannot register transition");
 279   }
 280 
 281   //register a deferred transition for EOR randoms
 282   if (cm_register_deferred_transition(TR_STOP, defer_for_end_randoms) != CM_SUCCESS) {
 283       printf("triggerfe2(frontend_init):Cannot register deferred STOP transition");
 284   }
 285 
 286 
 287    return SUCCESS;
 288 }
```

In this mode, with all the frontends are running on `localhost` because `/Experiment/Security/Enable
non-localhost RPC` is set to "n."  I get several errors directly after starting the run that look
like this:

```
13:22:28.395 2015/10/12 [mhttpd,ERROR] [midas.c:4444:cm_transition,ERROR] Could not start a run: cm_transition() status 503, message '(null)'

13:22:27.954 2015/10/12 [towerfe3_01,INFO] Client 'triggerfe201' on buffer 'SYSMSG' removed by cm_watchdog because process pid 1194147 does not exist

13:22:27.942 2015/10/12 [towerfe3_01,INFO] Client 'triggerfe201' on buffer 'SYSTEM' removed by cm_watchdog because process pid 1194147 does not exist

13:22:27.695 2015/10/12 [mhttpd,ERROR] [midas.c:5706:cm_shutdown,ERROR] Killing and Deleting client 'triggerfe201' pid 1194147

13:22:27.673 2015/10/12 [mhttpd,ERROR] [midas.c:5703:cm_shutdown,ERROR] Cannot connect to client 'triggerfe201' on host 'localhost', port 18977

13:22:27.651 2015/10/12 [mhttpd,ERROR] [midas.c:9293:rpc_client_connect,ERROR] cannot connect to host "localhost", port 18977: connect() returned -1, errno 106 (Transport endpoint is already connected)

13:22:27.629 2015/10/12 [mhttpd,ERROR] [midas.c:10555:rpc_client_call,ERROR] call to "triggerfe201" on "localhost" RPC "rc_transition": send_tcp() failed

13:22:27.607 2015/10/12 [mhttpd,ERROR] [system.c:4345:send_tcp,ERROR] send(socket=14,size=40) returned -1, errno: 32 (Broken pipe)

13:22:27.585 2015/10/12 [mhttpd,ERROR] [midas.c:3660:cm_transition_call,ERROR] cannot connect to client "triggerfe201" on host localhost, port 18977, status 503

13:22:27.584 2015/10/12 [mhttpd,ERROR] [midas.c:9293:rpc_client_connect,ERROR] cannot connect to host "localhost", port 18977: connect() returned -1, errno 106 (Transport endpoint is already connected)
```

Rollback to 2015/09/18 (SHA: c6bd52df5e27a1fd61e4a57460e6823058e7a0c8)
----------------------------------------------------------------------

NOTE: for some reason the frontends are now yellow on the equipment frontpage when running instead
of green.  I have no idea why this is true, or what the color code means.  I find the MIDAS
documentation to be lacking in such descriptions. 

Rollback to 2014/04/02 (SHA: d7d6f8c78dac961e33adb8ecfcac328cb4f229b5)
----------------------------------------------------------------------
